!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}(window,function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist",i(i.s=2)}([function(e,t,i){var n=i(1);e.exports=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),s.forEach(function(t){n(e,t,i[t])})}return e}},function(e,t){e.exports=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},function(e,t,i){"use strict";i.r(t);var n=i(0),s=i.n(n),r=function(e){e.prototype.on=function(e,t){if(!e||!t)throw new Error('missing parameter, function "on" need two parameters, one of them is event, another is callback function');this.events=this.events||[],this.events.push({event:e,funcName:t.name||"anonymous",callback:t})},e.prototype.off=function(t,i){if(this.events)if(i.name){for(let e=0,n=this.events;e<n.length;e++)if(n[e].funcName===i.name&&n[e].event===t)return void n.splice(e,1);console.error(`${e.name}'s ${t} event have no ${i.name} function`)}else console.error("can not remove a anonymous function");else console.error(`${e.name} have no event`)},e.prototype.once=function(e,t){if(!e||!t)throw new Error('missing parameter, function "once" need two parameters, one of them is event, another is callback function');this.events=this.events||[];let i=this.events.length;this.on(e,()=>{t.apply(this,arguments),this.events.splice(i,1)})},e.prototype.dispatchEvent=function(e,...t){this.events=this.events||[],this.events.forEach(i=>{i.event===e&&i.callback(...t)})}},o="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTM3OTI3ODg5MzUxIiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjEwNDkiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNjc5LjQ1MzMxNSAzODMuNjMzNDAxYy0wLjQwOTMyMi0xMC4xNTMyNDQtNC4yMDA2NzItMjAuMTk1OTcxLTExLjk1NDI2My0yNy45NDg1MzktNy43NTE1NDQtNy43NDk0OTgtMTcuNzY3NjY2LTExLjUxNzMxMS0yNy45NDc1MTYtMTEuOTU0MjYzLTExLjMwMTM5NC0wLjQzNjk1Mi0yMi43MDkyMTEgMy4zMzA4NjItMzEuMzM1NjgyIDExLjk1NDI2M2wtOTYuMDk5NzA4IDk2LjEyNzMzOC05Ni4xMDA3MzItOTYuMTI3MzM4Yy04LjYyNTQ0OC04LjYyMzQwMS0yMC4wMzQyODktMTIuMzkxMjE1LTMxLjMzMzYzNi0xMS45NTQyNjMtMTAuMTUyMjIxIDAuNDM2OTUyLTIwLjE5NTk3MSA0LjIwNDc2NS0yNy45NDg1MzkgMTEuOTU0MjYzLTcuNzUyNTY4IDcuNzUxNTQ0LTExLjU0NDk0MSAxNy43OTUyOTUtMTEuOTU0MjYzIDI3Ljk0ODUzOS0wLjQ2NDU4MSAxMS4yOTkzNDcgMy4zMjc3OTIgMjIuNzA4MTg4IDExLjk1NDI2MyAzMS4zMzM2MzZsOTYuMDk5NzA4IDk2LjEyNzMzOC05Ni4wOTk3MDggOTYuMDc0MTI2Yy04LjYyNjQ3MSA4LjYyNTQ0OC0xMi40MTg4NDQgMjAuMDM0Mjg5LTExLjk1NDI2MyAzMS4zMzM2MzYgMC40MDkzMjIgMTAuMTUyMjIxIDQuMjAxNjk1IDIwLjE5NTk3MSAxMS45NTQyNjMgMjcuOTQ4NTM5IDcuNzUxNTQ0IDcuNzUxNTQ0IDE3Ljc5NTI5NSAxMS41NzI1NyAyNy45NDg1MzkgMTEuOTU2MzEgMTEuMjk5MzQ3IDAuNDkwMTY0IDIyLjcwODE4OC0zLjMzMDg2MiAzMS4zMzM2MzYtMTEuOTU2MzFsOTYuMTAwNzMyLTk2LjA3MzEwMiA5Ni4wOTk3MDggOTYuMDczMTAyYzguNjI2NDcxIDguNjI1NDQ4IDIwLjAzNDI4OSAxMi40NDU0NSAzMS4zMzU2ODIgMTEuOTU2MzEgMTAuMTc4ODI3LTAuMzgzNzQgMjAuMTk0OTQ4LTQuMjAzNzQyIDI3Ljk0NzUxNi0xMS45NTYzMSA3Ljc1MjU2OC03Ljc1MTU0NCAxMS41NDM5MTctMTcuNzk2MzE4IDExLjk1NDI2My0yNy45NDg1MzkgMC40NjM1NTgtMTEuMjk5MzQ3LTMuMzI3NzkyLTIyLjcwODE4OC0xMS45NTQyNjMtMzEuMzMzNjM2bC05Ni4wOTk3MDgtOTYuMDc0MTI2IDk2LjA5OTcwOC05Ni4xMjczMzhDNjc2LjEyNTUyMyA0MDYuMzQxNTg4IDY3OS45MTY4NzIgMzk0LjkzMjc0OCA2NzkuNDUzMzE1IDM4My42MzM0MDF6TTUxMi4xMTYxNDUgNjMuOTE2NzI4Yy0yNDYuOTUzNDYyIDAtNDQ3LjE3ODY2OSAyMDAuMjI3MjU0LTQ0Ny4xNzg2NjkgNDQ3LjE3ODY2OSAwIDI0Ni45NTM0NjIgMjAwLjIyNTIwNyA0NDcuMTc3NjQ2IDQ0Ny4xNzg2NjkgNDQ3LjE3NzY0NiAyNDYuOTUzNDYyIDAgNDQ3LjE3ODY2OS0yMDAuMjI0MTg0IDQ0Ny4xNzg2NjktNDQ3LjE3NzY0NkM5NTkuMjk0ODE0IDI2NC4xNDM5ODIgNzU5LjA2OTYwNyA2My45MTY3MjggNTEyLjExNjE0NSA2My45MTY3Mjh6TTUxMi4xMTYxNDUgODc0LjQyNzQyNmMtMjAwLjMzMzY3OCAwLTM2My4zMzIwMjktMTYyLjk5NjMwNS0zNjMuMzMyMDI5LTM2My4zMzMwNTIgMC0yMDAuMzMzNjc4IDE2Mi45OTkzNzQtMzYzLjMzMzA1MiAzNjMuMzMyMDI5LTM2My4zMzMwNTJzMzYzLjMzMzA1MiAxNjIuOTk5Mzc0IDM2My4zMzMwNTIgMzYzLjMzMzA1MkM4NzUuNDQ5MTk3IDcxMS40MzExMjIgNzEyLjQ0OTgyMyA4NzQuNDI3NDI2IDUxMi4xMTYxNDUgODc0LjQyNzQyNnoiIHAtaWQ9IjEwNTAiIGRhdGEtc3BtLWFuY2hvci1pZD0iYTMxM3guNzc4MTA2OS4wLmkwIiBmaWxsPSIjNzA3MDcwIj48L3BhdGg+PC9zdmc+";let M=1;class h{constructor(e){this.DEFAULT_OPTIONS=Object.assign({width:60,height:60,rotate:0,x:0,y:0,left:20,top:20,background:"#2aa7ff",opacity:.6,innerText:"默认文字",slot:""},e),this.$el=this.area=this.createDom(),this.setAreaStyle(),this.initEvent()}createDom(){const e=document.createElement("div");if(e.style.position="absolute",e.style.width=this.DEFAULT_OPTIONS.width+"px",e.style.height=this.DEFAULT_OPTIONS.height+"px",e.style.left=this.DEFAULT_OPTIONS.left+"px",e.style.top=this.DEFAULT_OPTIONS.top+"px",e.style.background=this.DEFAULT_OPTIONS.background,e.style.opacity=this.DEFAULT_OPTIONS.opacity,e.style.zIndex=++M,this.DEFAULT_OPTIONS.innerText){const t=document.createElement("span");t.innerText=this.DEFAULT_OPTIONS.innerText,e.appendChild(t)}if(this.DEFAULT_OPTIONS.slot){const t=document.createElement("div");t.innerHTML=this.DEFAULT_OPTIONS.slot,e.appendChild(t)}e.style.whiteSpace="noWrap",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.flexDirection="column";const t=document.createElement("img");return t.src=o,t.style.position="absolute",t.style.right=0,t.style.top=0,t.style.width="20px",t.style.color="#000",t.style.transform="translate3D(50%, -50%, 0)",t.onclick=(()=>{this.removeSelf()}),e.appendChild(t),e}initEvent(){this.area.addEventListener("click",(()=>{let e=null;return()=>{e?this.dispatchEvent("click",this):e=setTimeout(()=>{e=null},200)}})()),this.area.addEventListener("mousedown",e=>{e.preventDefault(),this.isMouseDown=!0,this.startPoint={x:e.clientX,y:e.clientY},this.area.style.zIndex=++M}),this.area.addEventListener("mouseup",e=>{this.isMouseDown=!1}),this.area.addEventListener("mousemove",e=>{if(!this.isMouseDown){const t=e.clientX-this.area.getBoundingClientRect().left,i=e.clientY-this.area.getBoundingClientRect().top;this.setMouseStyle(t,i)}}),this.DEFAULT_OPTIONS.parent.addEventListener("mousemove",e=>{this.isMouseDown&&(this.nowPoint={x:e.clientX,y:e.clientY},this.computeOffset(this.nowPoint,this.startPoint),this.setAreaStyle(),this.startPoint=this.nowPoint)})}setMouseStyle(e,t){this.mouseStyle="move";const i=this.DEFAULT_OPTIONS;e>i.width-10&&t<10?this.mouseStyle="pointer":t>i.height-10&&e>i.width-10?this.mouseStyle="se-resize":e<10&&t<10?this.mouseStyle="nw-resize":e<10&&t>=i.height-10?this.mouseStyle="sw-resize":e>10&&e<i.width-10&&t<10?this.mouseStyle="n-resize":e>10&&e<=i.width-10&&t>=i.height-10?this.mouseStyle="s-resize":e<10&&t<i.height-10&&t>10?this.mouseStyle="w-resize":e>i.width-10&&t>10&&t<i.height-10?this.mouseStyle="e-resize":this.mouseStyle="move",this.area.style.cursor=this.mouseStyle}computeOffset(e,t){let i=e.x-t.x,n=e.y-t.y;switch(this.mouseStyle){case"nw-resize":this.DEFAULT_OPTIONS.width+=-i,this.DEFAULT_OPTIONS.height+=-n,this.DEFAULT_OPTIONS.x+=i,this.DEFAULT_OPTIONS.y+=n;break;case"ne-resize":this.DEFAULT_OPTIONS.width+=i,this.DEFAULT_OPTIONS.height+=-n,this.DEFAULT_OPTIONS.y+=n;break;case"sw-resize":this.DEFAULT_OPTIONS.width+=-i,this.DEFAULT_OPTIONS.height+=n,this.DEFAULT_OPTIONS.x+=i;break;case"se-resize":this.DEFAULT_OPTIONS.width+=i,this.DEFAULT_OPTIONS.height+=n;break;case"w-resize":this.DEFAULT_OPTIONS.width+=-i,this.DEFAULT_OPTIONS.x+=i;break;case"n-resize":this.DEFAULT_OPTIONS.height+=-n,this.DEFAULT_OPTIONS.y+=n;break;case"e-resize":this.DEFAULT_OPTIONS.width+=i;break;case"s-resize":this.DEFAULT_OPTIONS.height+=n;break;case"move":this.DEFAULT_OPTIONS.x+=i,this.DEFAULT_OPTIONS.y+=n}}setAreaStyle(){const e=`\n            translateX(${this.DEFAULT_OPTIONS.x}px) \n            translateY(${this.DEFAULT_OPTIONS.y}px) \n            translateZ(0px)\n            rotate(${this.DEFAULT_OPTIONS.rotate}deg)\n        `;this.area.style.transform=e,this.area.style.msTransform=e,this.area.style.webkitTransform=e,this.area.style.width=this.DEFAULT_OPTIONS.width+"px",this.area.style.height=this.DEFAULT_OPTIONS.height+"px"}removeSelf(){this.dispatchEvent("close")}getInfo(){const e=this.DEFAULT_OPTIONS.parent.getBoundingClientRect();return new Proxy(this.DEFAULT_OPTIONS,{get:(t,i)=>{if(t[i])return t[i];switch(i){case"leftProportion":return 100*((this.DEFAULT_OPTIONS.x+this.DEFAULT_OPTIONS.left)/e.width).toFixed(2)+"%";case"topProportion":return 100*((this.DEFAULT_OPTIONS.y+this.DEFAULT_OPTIONS.top)/e.height).toFixed(2)+"%";case"widthProportion":return 100*(this.DEFAULT_OPTIONS.width/e.width).toFixed(2)+"%";case"heightProportion":return 100*(this.DEFAULT_OPTIONS.height/e.height).toFixed(2)+"%";default:return}},set:()=>!1})}}r(h);var c=h;class a{constructor(e,t={}){if("string"==typeof e){const t=document.getElementById(e);this.container=t||document.body}else{if(!(e instanceof HTMLElement))return console.error("container must be exist");this.container=e}this.DEFAULT_OPTIONS=Object.assign({},t),this.childArea=new Set,this.initContainer()}initContainer(){this.container.style.position="relative",this.container.style.overflow="hidden"}initEvent(){this.container.addEventListener("mousedown",function(e){e.preventDefault()})}addArea(e){let t=new c(s()({parent:this.container},e));return t.once("close",()=>{this.childArea.has(t)&&(this.container.removeChild(t.$el),this.childArea.delete(t))}),t.on("click",e=>{this.dispatchEvent("areaDbClick",e)}),this.container.appendChild(t.$el),this.childArea.add(t),t}removeOneArea(e){this.childArea.has(e)&&(this.container.removeChild(e.$el),this.childArea.delete(e))}removeAllArea(){this.childArea.forEach(e=>{this.container.removeChild(e.$el)}),this.childArea.clear()}getAllAreas(){return[...this.childArea]}getAllAreasInfo(){return[...this.childArea].map(e=>e.getInfo())}}r(a);var T=a;t.default=T}])});