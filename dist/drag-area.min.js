!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DragArea=t():e.DragArea=t()}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=8)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},function(e,t,n){var i=n(4),o=n(5),r=n(6);e.exports=function(e){return i(e)||o(e)||r()}},function(e,t,n){var i=n(7);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){i(e,t,n[t])})}return e}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";n.r(t);var i=n(2),o=n.n(i),r=n(3),s=n.n(r),a=n(0),c=n.n(a),M=n(1),u=n.n(M),T=function(e){e.prototype.on=function(e,t){if(!e||!t)throw new Error('missing parameter, function "on" need two parameters, one of them is event, another is callback function');this.events=this.events||[],this.events.push({event:e,funcName:t.name||"anonymous",callback:t})},e.prototype.off=function(t,n){if(this.events)if(n.name){for(var i=0,o=this.events;i<o.length;i++)if(o[i].funcName===n.name&&o[i].event===t)return void o.splice(i,1);console.error("".concat(e.name,"'s ").concat(t," event have no ").concat(n.name," function"))}else console.error("can not remove a anonymous function");else console.error("".concat(e.name," have no event"))},e.prototype.once=function(e,t){var n=this,i=arguments;if(!e||!t)throw new Error('missing parameter, function "once" need two parameters, one of them is event, another is callback function');this.events=this.events||[];var o=this.events.length;this.on(e,function(){t.apply(n,i),n.events.splice(o,1)})},e.prototype.dispatchEvent=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.events=this.events||[],this.events.forEach(function(t){t.event===e&&t.callback.apply(t,n)})}},h=1,N=function(){function e(t){c()(this,e),this.DEFAULT_OPTIONS=Object.assign({width:60,height:60,rotate:0,x:0,y:0,left:20,top:20,background:"#2aa7ff",opacity:.6,innerText:"默认文字",slot:""},t),this.$el=this.area=this.createDom(),this.setAreaStyle(),this.initEvent()}return u()(e,[{key:"createDom",value:function(){var e=this,t=document.createElement("div");if(t.style.position="absolute",t.style.width=this.DEFAULT_OPTIONS.width+"px",t.style.height=this.DEFAULT_OPTIONS.height+"px",t.style.left=this.DEFAULT_OPTIONS.left+"px",t.style.top=this.DEFAULT_OPTIONS.top+"px",t.style.background=this.DEFAULT_OPTIONS.background,t.style.opacity=this.DEFAULT_OPTIONS.opacity,t.style.zIndex=++h,this.DEFAULT_OPTIONS.innerText){var n=document.createElement("span");n.innerText=this.DEFAULT_OPTIONS.innerText,t.appendChild(n)}if(this.DEFAULT_OPTIONS.slot){var i=document.createElement("div");i.innerHTML=this.DEFAULT_OPTIONS.slot,t.appendChild(i)}t.style.whiteSpace="noWrap",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.flexDirection="column";var o=document.createElement("img");return o.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTM3OTI3ODg5MzUxIiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjEwNDkiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNjc5LjQ1MzMxNSAzODMuNjMzNDAxYy0wLjQwOTMyMi0xMC4xNTMyNDQtNC4yMDA2NzItMjAuMTk1OTcxLTExLjk1NDI2My0yNy45NDg1MzktNy43NTE1NDQtNy43NDk0OTgtMTcuNzY3NjY2LTExLjUxNzMxMS0yNy45NDc1MTYtMTEuOTU0MjYzLTExLjMwMTM5NC0wLjQzNjk1Mi0yMi43MDkyMTEgMy4zMzA4NjItMzEuMzM1NjgyIDExLjk1NDI2M2wtOTYuMDk5NzA4IDk2LjEyNzMzOC05Ni4xMDA3MzItOTYuMTI3MzM4Yy04LjYyNTQ0OC04LjYyMzQwMS0yMC4wMzQyODktMTIuMzkxMjE1LTMxLjMzMzYzNi0xMS45NTQyNjMtMTAuMTUyMjIxIDAuNDM2OTUyLTIwLjE5NTk3MSA0LjIwNDc2NS0yNy45NDg1MzkgMTEuOTU0MjYzLTcuNzUyNTY4IDcuNzUxNTQ0LTExLjU0NDk0MSAxNy43OTUyOTUtMTEuOTU0MjYzIDI3Ljk0ODUzOS0wLjQ2NDU4MSAxMS4yOTkzNDcgMy4zMjc3OTIgMjIuNzA4MTg4IDExLjk1NDI2MyAzMS4zMzM2MzZsOTYuMDk5NzA4IDk2LjEyNzMzOC05Ni4wOTk3MDggOTYuMDc0MTI2Yy04LjYyNjQ3MSA4LjYyNTQ0OC0xMi40MTg4NDQgMjAuMDM0Mjg5LTExLjk1NDI2MyAzMS4zMzM2MzYgMC40MDkzMjIgMTAuMTUyMjIxIDQuMjAxNjk1IDIwLjE5NTk3MSAxMS45NTQyNjMgMjcuOTQ4NTM5IDcuNzUxNTQ0IDcuNzUxNTQ0IDE3Ljc5NTI5NSAxMS41NzI1NyAyNy45NDg1MzkgMTEuOTU2MzEgMTEuMjk5MzQ3IDAuNDkwMTY0IDIyLjcwODE4OC0zLjMzMDg2MiAzMS4zMzM2MzYtMTEuOTU2MzFsOTYuMTAwNzMyLTk2LjA3MzEwMiA5Ni4wOTk3MDggOTYuMDczMTAyYzguNjI2NDcxIDguNjI1NDQ4IDIwLjAzNDI4OSAxMi40NDU0NSAzMS4zMzU2ODIgMTEuOTU2MzEgMTAuMTc4ODI3LTAuMzgzNzQgMjAuMTk0OTQ4LTQuMjAzNzQyIDI3Ljk0NzUxNi0xMS45NTYzMSA3Ljc1MjU2OC03Ljc1MTU0NCAxMS41NDM5MTctMTcuNzk2MzE4IDExLjk1NDI2My0yNy45NDg1MzkgMC40NjM1NTgtMTEuMjk5MzQ3LTMuMzI3NzkyLTIyLjcwODE4OC0xMS45NTQyNjMtMzEuMzMzNjM2bC05Ni4wOTk3MDgtOTYuMDc0MTI2IDk2LjA5OTcwOC05Ni4xMjczMzhDNjc2LjEyNTUyMyA0MDYuMzQxNTg4IDY3OS45MTY4NzIgMzk0LjkzMjc0OCA2NzkuNDUzMzE1IDM4My42MzM0MDF6TTUxMi4xMTYxNDUgNjMuOTE2NzI4Yy0yNDYuOTUzNDYyIDAtNDQ3LjE3ODY2OSAyMDAuMjI3MjU0LTQ0Ny4xNzg2NjkgNDQ3LjE3ODY2OSAwIDI0Ni45NTM0NjIgMjAwLjIyNTIwNyA0NDcuMTc3NjQ2IDQ0Ny4xNzg2NjkgNDQ3LjE3NzY0NiAyNDYuOTUzNDYyIDAgNDQ3LjE3ODY2OS0yMDAuMjI0MTg0IDQ0Ny4xNzg2NjktNDQ3LjE3NzY0NkM5NTkuMjk0ODE0IDI2NC4xNDM5ODIgNzU5LjA2OTYwNyA2My45MTY3MjggNTEyLjExNjE0NSA2My45MTY3Mjh6TTUxMi4xMTYxNDUgODc0LjQyNzQyNmMtMjAwLjMzMzY3OCAwLTM2My4zMzIwMjktMTYyLjk5NjMwNS0zNjMuMzMyMDI5LTM2My4zMzMwNTIgMC0yMDAuMzMzNjc4IDE2Mi45OTkzNzQtMzYzLjMzMzA1MiAzNjMuMzMyMDI5LTM2My4zMzMwNTJzMzYzLjMzMzA1MiAxNjIuOTk5Mzc0IDM2My4zMzMwNTIgMzYzLjMzMzA1MkM4NzUuNDQ5MTk3IDcxMS40MzExMjIgNzEyLjQ0OTgyMyA4NzQuNDI3NDI2IDUxMi4xMTYxNDUgODc0LjQyNzQyNnoiIHAtaWQ9IjEwNTAiIGRhdGEtc3BtLWFuY2hvci1pZD0iYTMxM3guNzc4MTA2OS4wLmkwIiBmaWxsPSIjNzA3MDcwIj48L3BhdGg+PC9zdmc+",o.style.position="absolute",o.style.right=0,o.style.top=0,o.style.width="20px",o.style.color="#000",o.style.transform="translate3D(50%, -50%, 0)",o.onclick=function(){e.removeSelf()},t.appendChild(o),t}},{key:"initEvent",value:function(){var e=this;this.area.addEventListener("click",function(){var t=null;return function(){t?e.dispatchEvent("dbClick",e):t=setTimeout(function(){t=null},200)}}()),this.area.addEventListener("mousedown",function(t){t.preventDefault(),e.isMouseDown=!0,e.startPoint={x:t.clientX,y:t.clientY},e.area.style.zIndex=++h}),this.area.addEventListener("mouseup",function(t){e.isMouseDown=!1}),this.area.addEventListener("mousemove",function(t){if(!e.isMouseDown){var n=t.clientX-e.area.getBoundingClientRect().left,i=t.clientY-e.area.getBoundingClientRect().top;e.setMouseStyle(n,i)}}),this.DEFAULT_OPTIONS.parent.addEventListener("mousemove",function(t){e.isMouseDown&&(e.nowPoint={x:t.clientX,y:t.clientY},e.computeOffset(e.nowPoint,e.startPoint),e.setAreaStyle(),e.startPoint=e.nowPoint)})}},{key:"setMouseStyle",value:function(e,t){this.mouseStyle="move";var n=this.DEFAULT_OPTIONS;e>n.width-10&&t<10?this.mouseStyle="pointer":t>n.height-10&&e>n.width-10?this.mouseStyle="se-resize":e<10&&t<10?this.mouseStyle="nw-resize":e<10&&t>=n.height-10?this.mouseStyle="sw-resize":e>10&&e<n.width-10&&t<10?this.mouseStyle="n-resize":e>10&&e<=n.width-10&&t>=n.height-10?this.mouseStyle="s-resize":e<10&&t<n.height-10&&t>10?this.mouseStyle="w-resize":e>n.width-10&&t>10&&t<n.height-10?this.mouseStyle="e-resize":this.mouseStyle="move",this.area.style.cursor=this.mouseStyle}},{key:"computeOffset",value:function(e,t){var n=e.x-t.x,i=e.y-t.y;switch(this.mouseStyle){case"nw-resize":this.DEFAULT_OPTIONS.width+=-n,this.DEFAULT_OPTIONS.height+=-i,this.DEFAULT_OPTIONS.x+=n,this.DEFAULT_OPTIONS.y+=i;break;case"ne-resize":this.DEFAULT_OPTIONS.width+=n,this.DEFAULT_OPTIONS.height+=-i,this.DEFAULT_OPTIONS.y+=i;break;case"sw-resize":this.DEFAULT_OPTIONS.width+=-n,this.DEFAULT_OPTIONS.height+=i,this.DEFAULT_OPTIONS.x+=n;break;case"se-resize":this.DEFAULT_OPTIONS.width+=n,this.DEFAULT_OPTIONS.height+=i;break;case"w-resize":this.DEFAULT_OPTIONS.width+=-n,this.DEFAULT_OPTIONS.x+=n;break;case"n-resize":this.DEFAULT_OPTIONS.height+=-i,this.DEFAULT_OPTIONS.y+=i;break;case"e-resize":this.DEFAULT_OPTIONS.width+=n;break;case"s-resize":this.DEFAULT_OPTIONS.height+=i;break;case"move":this.DEFAULT_OPTIONS.x+=n,this.DEFAULT_OPTIONS.y+=i}}},{key:"setAreaStyle",value:function(){var e="\n            translateX(".concat(this.DEFAULT_OPTIONS.x,"px) \n            translateY(").concat(this.DEFAULT_OPTIONS.y,"px) \n            translateZ(0px)\n            rotate(").concat(this.DEFAULT_OPTIONS.rotate,"deg)\n        ");this.area.style.transform=e,this.area.style.msTransform=e,this.area.style.webkitTransform=e,this.area.style.width=this.DEFAULT_OPTIONS.width+"px",this.area.style.height=this.DEFAULT_OPTIONS.height+"px"}},{key:"removeSelf",value:function(){this.dispatchEvent("close")}},{key:"getInfo",value:function(){var e=this.DEFAULT_OPTIONS.parent.getBoundingClientRect();return Object.assign({},{height:this.DEFAULT_OPTIONS.height,width:this.DEFAULT_OPTIONS.width,top:this.DEFAULT_OPTIONS.top+this.DEFAULT_OPTIONS.y,left:this.DEFAULT_OPTIONS.left+this.DEFAULT_OPTIONS.x,leftProportion:((this.DEFAULT_OPTIONS.x+this.DEFAULT_OPTIONS.left)/e.width*100).toFixed(2)+"%",topProportion:((this.DEFAULT_OPTIONS.y+this.DEFAULT_OPTIONS.top)/e.height*100).toFixed(2)+"%",widthProportion:(this.DEFAULT_OPTIONS.width/e.width*100).toFixed(2)+"%",heightProportion:(this.DEFAULT_OPTIONS.height/e.height*100).toFixed(2)+"%"})}}]),e}();T(N);var l=N,y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(c()(this,e),"string"==typeof t){var i=document.getElementById(t);this.container=i||document.body}else{if(!(t instanceof HTMLElement))return console.error("container must be exist");this.container=t}new Promise(function(e,t){}),this.DEFAULT_OPTIONS=Object.assign({},n),this.childArea=new Map,this.initContainer()}return u()(e,[{key:"initContainer",value:function(){this.container.style.position="relative",this.container.style.overflow="hidden"}},{key:"initEvent",value:function(){this.container.addEventListener("mousedown",function(e){e.preventDefault()})}},{key:"addArea",value:function(e){var t=this,n=new l(s()({parent:this.container},e));return n.once("close",function(){t.childArea.has(n)&&(t.container.removeChild(n.$el),t.childArea.delete(n))}),n.on("dbClick",function(e){t.dispatchEvent("areaDbClick",e)}),this.container.appendChild(n.$el),this.childArea.set(n,{}),n}},{key:"removeOneArea",value:function(e){this.childArea.has(e)&&(this.container.removeChild(e.$el),this.childArea.delete(e))}},{key:"removeAllArea",value:function(){var e=this;this.childArea.forEach(function(t,n){e.container.removeChild(n.$el)}),this.childArea.clear()}},{key:"getAllAreas",value:function(){return o()(this.childArea.keys())}},{key:"getAllAreasInfo",value:function(){return o()(this.childArea.keys()).map(function(e){return e.getInfo()})}}]),e}();T(y);var O=y;t.default=O}]).default});